<!DOCTYPE html>
<html ng-app="europeGameApp">
    <head>
        <title>Europe Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body ng-controller="europeGameController">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p class="bg-primary text-center">{{citiesPlaced}} cities placed</p>
                </div>
            </div>
            <div class="row">            
                <div class="col-md-12">
                    <p class="bg-primary text-center">{{kmLeft}} kilometers left</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <p ng-show="!gameFinished && kmLeft > 0" class="text-center">Select the location of {{cityToPlace | uppercase}}</p>
                    <p ng-show="gameFinished || kmLeft < 0" class="text-center">
                        <span class="bg-success" ng-show="kmLeft > 0">{{winningMessage}}</span>
                        <span class="bg-danger" ng-show="kmLeft < 0">{{losingMessage}}</span>
                    </p>
                </div>                
            </div>
            <div class="row">
                <div class="center-block map-lg map-md map-sm" id="map"></div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    <p class="pull-right">
                        <span>{{message}}</span>
                    </p>
                </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-default pull-right" ng-click="computeDistanceBetween()" ng-disabled="kmLeft < 0 || gameFinished">Place</button>
                </div>
            </div>
        </div>
        <script src="js/app.js"></script>
        <script>
            /*global angular */
            function initMap(){
                console.log('in init map');
                var scope = angular.element($("body")).scope();
                scope.initMap();
            }
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWC7jPno7JWv4ciZBFE2iq-ANpmaxHn68&callback=initMap&libraries=geometry"></script>
    </body>
</html>